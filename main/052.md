           
       
<h1>Executing commands</h1>
       
                            
<p>We can run plain commands using <abbr title="Puppet automation tool">Puppet</abbr>'s <strong>exec</strong> type. Since <abbr title="Puppet automation tool">Puppet</abbr> applies it at every run, either the command can be safely run multiple times or we have to use one of the <strong>creates</strong>, <strong>unless</strong>, <strong>onlyif</strong>, <strong>refreshonly</strong> arguments to manage when to execute it.</p> 
<pre class=" code"><code><span class="java_plain">exec&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_literal">'get_my_file'</span><span class="java_operator">:</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;</span><span class="java_separator">(</span><span class="java_plain">namevar</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_type">The</span><span class="java_plain">&nbsp;command&nbsp;to&nbsp;execute</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;command&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=&gt;</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;wget&nbsp;http://mysite/myfile.tar.gz&nbsp;-O&nbsp;/tmp/myfile.tar.gz',</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;</span><span class="java_type">The</span><span class="java_plain">&nbsp;search&nbsp;path&nbsp;</span><span class="java_keyword">for</span><span class="java_plain">&nbsp;the&nbsp;command</span><span class="java_separator">.</span><span class="java_plain">&nbsp;</span><span class="java_type">Must</span><span class="java_plain">&nbsp;exist&nbsp;when&nbsp;command&nbsp;is&nbsp;not&nbsp;absolute</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;</span><span class="java_type">Often</span><span class="java_plain">&nbsp;set&nbsp;in&nbsp;</span><span class="java_type">Exec</span><span class="java_plain">&nbsp;resource&nbsp;defaults</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=&gt;</span><span class="java_plain">&nbsp;</span><span class="java_literal">'/sbin:/bin:/usr/sbin:/usr/bin'</span><span class="java_separator">,</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;file&nbsp;created&nbsp;by&nbsp;the&nbsp;command</span><span class="java_separator">.</span><span class="java_plain">&nbsp;</span><span class="java_type">It</span><span class="java_plain">&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;exists</span><span class="java_separator">,</span><span class="java_plain">&nbsp;the&nbsp;command&nbsp;is&nbsp;not&nbsp;executed</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;creates&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=&gt;</span><span class="java_plain">&nbsp;</span><span class="java_literal">'/tmp/myfile.tar.gz'</span><span class="java_separator">,</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;command&nbsp;or&nbsp;an&nbsp;array&nbsp;of&nbsp;commands</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;any&nbsp;of&nbsp;them&nbsp;returns&nbsp;an&nbsp;error</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;command&nbsp;is&nbsp;not&nbsp;executed</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;onlyif&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=&gt;</span><span class="java_plain">&nbsp;</span><span class="java_literal">'ls&nbsp;/tmp/myfile.tar.gz&nbsp;&amp;&amp;&nbsp;false'</span><span class="java_separator">,</span><span class="java_plain"></span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;A&nbsp;command&nbsp;or&nbsp;an&nbsp;array&nbsp;of&nbsp;commands</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;any&nbsp;of&nbsp;them&nbsp;returns&nbsp;an&nbsp;error</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;the&nbsp;command&nbsp;IS&nbsp;executed</span>
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;unless&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=&gt;</span><span class="java_plain">&nbsp;</span><span class="java_literal">'ls&nbsp;/tmp/myfile.tar.gz'</span><span class="java_separator">,</span><span class="java_plain"></span>
<span class="java_separator">}</span><span class="java_plain"></span></code></pre>
  
     
     
