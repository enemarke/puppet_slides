       
<h1>Understanding Puppet runs output</h1>
       
                            
<p><abbr title="Puppet automation tool">Puppet</abbr> is very informative about what it does on the functions</p> 
<pre class=" code"><code><span class="java_operator">/</span><span class="java_type">Stage</span><span class="java_separator">[</span><span class="java_plain">main</span><span class="java_separator">]</span><span class="java_operator">/</span><span class="java_type">Example42</span><span class="java_operator">::</span><span class="java_type">CommonSetup</span><span class="java_operator">/</span><span class="java_type">File</span><span class="java_separator">[</span><span class="java_operator">/</span><span class="java_plain">etc</span><span class="java_operator">/</span><span class="java_plain">motd</span><span class="java_separator">]</span><span class="java_operator">/</span><span class="java_plain">content</span><span class="java_operator">:</span><span class="java_plain"></span>
<span class="java_operator">---</span><span class="java_plain">&nbsp;</span><span class="java_operator">/</span><span class="java_plain">etc</span><span class="java_operator">/</span><span class="java_plain">motd&nbsp;&nbsp;&nbsp;</span><span class="java_literal">2012</span><span class="java_operator">-</span><span class="java_literal">12</span><span class="java_operator">-</span><span class="java_literal">13</span><span class="java_plain">&nbsp;</span><span class="java_literal">10</span><span class="java_operator">:</span><span class="java_literal">37</span><span class="java_operator">:</span><span class="java_literal">29.000000000</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_literal">0100</span><span class="java_plain"></span>
<span class="java_operator">+++</span><span class="java_plain">&nbsp;</span><span class="java_operator">/</span><span class="java_plain">tmp</span><span class="java_operator">/</span><span class="java_plain">puppet</span><span class="java_operator">-</span><span class="java_plain">file20121213</span><span class="java_operator">-</span><span class="java_literal">19295</span><span class="java_operator">-</span><span class="java_plain">qe4wv2</span><span class="java_operator">-</span><span class="java_literal">0</span><span class="java_plain">&nbsp;</span><span class="java_literal">2012</span><span class="java_operator">-</span><span class="java_literal">12</span><span class="java_operator">-</span><span class="java_literal">13</span><span class="java_plain">&nbsp;</span><span class="java_literal">10</span><span class="java_operator">:</span><span class="java_literal">38</span><span class="java_operator">:</span><span class="java_literal">19.000000000</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_literal">0100</span><span class="java_plain"></span>
<span class="java_plain">@@&nbsp;</span><span class="java_operator">-</span><span class="java_literal">4</span><span class="java_separator">,</span><span class="java_literal">4</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_literal">4</span><span class="java_separator">,</span><span class="java_literal">4</span><span class="java_plain">&nbsp;@@</span>
<span class="java_operator">-</span><span class="java_type">Last</span><span class="java_plain">&nbsp;</span><span class="java_type">Puppet</span><span class="java_plain">&nbsp;</span><span class="java_type">Run</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Thu</span><span class="java_plain">&nbsp;</span><span class="java_type">Dec</span><span class="java_plain">&nbsp;</span><span class="java_literal">13</span><span class="java_plain">&nbsp;</span><span class="java_literal">10</span><span class="java_operator">:</span><span class="java_literal">36</span><span class="java_operator">:</span><span class="java_literal">58</span><span class="java_plain">&nbsp;CET&nbsp;</span><span class="java_literal">2012</span><span class="java_plain"></span>
<span class="java_operator">+</span><span class="java_type">Last</span><span class="java_plain">&nbsp;</span><span class="java_type">Puppet</span><span class="java_plain">&nbsp;</span><span class="java_type">Run</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Thu</span><span class="java_plain">&nbsp;</span><span class="java_type">Dec</span><span class="java_plain">&nbsp;</span><span class="java_literal">13</span><span class="java_plain">&nbsp;</span><span class="java_literal">10</span><span class="java_operator">:</span><span class="java_literal">38</span><span class="java_operator">:</span><span class="java_literal">00</span><span class="java_plain">&nbsp;CET&nbsp;</span><span class="java_literal">2012</span><span class="java_plain"></span>
<span class="java_type">Info</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_operator">/</span><span class="java_type">Stage</span><span class="java_separator">[</span><span class="java_plain">main</span><span class="java_separator">]</span><span class="java_operator">/</span><span class="java_type">Example42</span><span class="java_operator">::</span><span class="java_type">CommonSetup</span><span class="java_operator">/</span><span class="java_type">File</span><span class="java_separator">[</span><span class="java_operator">/</span><span class="java_plain">etc</span><span class="java_operator">/</span><span class="java_plain">motd</span><span class="java_separator">]</span><span class="java_operator">:</span><span class="java_plain">&nbsp;</span><span class="java_type">Filebucketed</span><span class="java_plain">&nbsp;</span><span class="java_operator">/</span><span class="java_plain">etc</span><span class="java_operator">/</span><span class="java_plain">motd&nbsp;to&nbsp;main&nbsp;with&nbsp;sum&nbsp;</span><span class="java_literal">623</span><span class="java_plain">bcd5f8785251e2cd00a88438d6d08</span>
<span class="java_operator">/</span><span class="java_type">Stage</span><span class="java_separator">[</span><span class="java_plain">main</span><span class="java_separator">]</span><span class="java_operator">/</span><span class="java_type">Example42</span><span class="java_operator">::</span><span class="java_type">CommonSetup</span><span class="java_operator">/</span><span class="java_type">File</span><span class="java_separator">[</span><span class="java_operator">/</span><span class="java_plain">etc</span><span class="java_operator">/</span><span class="java_plain">motd</span><span class="java_separator">]</span><span class="java_operator">/</span><span class="java_plain">content</span><span class="java_operator">:</span><span class="java_plain">&nbsp;content&nbsp;changed&nbsp;</span><span class="java_literal">'{md5}623bcd5f8785251e2cd00a88438d6d08'</span><span class="java_plain">&nbsp;to&nbsp;</span><span class="java_literal">'{md5}91855575e2252c38ce01efedf1f48cd3'</span><span class="java_plain"></span></code></pre>
<p>The above lines refer to a change made by <abbr title="Puppet automation tool">Puppet</abbr> on /etc/motd<br /> The File[/etc/motd] resource is defined in the class example42::commonsetup<br /> A diff is shown of what has changed (the diff appears when running puppet agent -t in interactive mode)<br /> The original file has been filebucketed (saved) with checksum 623bcd5f8785251e2cd00a88438d6d08<br /> We can retrieve the original file in /var/lib/puppet/clientbucket/6/2/3/b/c/d/5/f/623bcd5f8785251e2cd00a88438d6d08/contents<br /> We can search for all the old versions of /etc/motd with</p> 
<pre class=" code"><code><span class="java_plain">grep&nbsp;</span><span class="java_operator">-</span><span class="java_plain">R&nbsp;</span><span class="java_literal">'/etc/motd'</span><span class="java_plain">&nbsp;</span><span class="java_operator">/</span><span class="java_plain">var</span><span class="java_operator">/</span><span class="java_plain">lib</span><span class="java_operator">/</span><span class="java_plain">puppet</span><span class="java_operator">/</span><span class="java_plain">clientbucket</span><span class="java_comment">/*</span></code></pre>
  
     
